<!DOCTYPE html>
<html>
<head>
Â Â <title>Couple Gifts Walaa Login</title>
Â Â <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â Â <!-- Firebase CDN -->
Â Â <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
Â Â <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
Â Â <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
Â Â <style>
Â Â Â Â body { font-family: Arial; text-align: center; margin-top: 100px; }
Â Â Â Â input { padding: 10px; margin: 10px; width: 250px; }
Â Â Â Â button { padding: 10px 20px; cursor: pointer; }
Â Â </style>
</head>
<body>
<h2>Login with Phone OTP</h2>
<input type="text" id="phone" placeholder="+91XXXXXXXXXX">
<br>
<div id="recaptcha-container"></div>
<button onclick="sendOTP()">Send OTP</button>
<br><br>
<input type="text" id="otp" placeholder="Enter OTP">
<br>
<button onclick="verifyOTP()">Verify OTP</button>
<script>
const firebaseConfig = {
Â Â apiKey: "AIzaSyC1DXO4MMYvLqdMl73MeaxVT-k6c0-H7b0",
Â Â authDomain: "couple-gifts-walaa.firebaseapp.com",
Â Â projectId: "couple-gifts-walaa",
Â Â storageBucket: "couple-gifts-walaa.firebasestorage.app",
Â Â messagingSenderId: "89761988573",
Â Â appId: "1:89761988573:web:8320fbaf33085cbff84034"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();
window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {
Â Â size: 'normal'
});
function sendOTP() {
Â Â const phoneNumber = document.getElementById("phone").value;
Â Â const appVerifier = window.recaptchaVerifier;
Â Â auth.signInWithPhoneNumber(phoneNumber, appVerifier)
Â Â Â Â .then(function (confirmationResult) {
Â Â Â Â Â Â window.confirmationResult = confirmationResult;
Â Â Â Â Â Â alert("OTP Sent âœ…");
Â Â Â Â }).catch(function (error) {
Â Â Â Â Â Â alert(error.message);
Â Â Â Â });
}
function verifyOTP() {
Â Â const code = document.getElementById("otp").value;
Â Â confirmationResult.confirm(code).then(function (result) {
Â Â Â Â const user = result.user;
Â Â Â Â db.collection("users").doc(user.uid).set({
Â Â Â Â Â Â phone: user.phoneNumber,
Â Â Â Â Â Â uid: user.uid,
Â Â Â Â Â Â loginTime: new Date()
Â Â Â Â });
Â Â Â Â alert("Login Successful ğŸ‰");
Â Â }).catch(function (error) {
Â Â Â Â alert("Wrong OTP âŒ");
Â Â });
}
</script>
</body>
</html>
